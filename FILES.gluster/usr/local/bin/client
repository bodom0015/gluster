#!/bin/bash
#
# Usage: ./client <GLFSVOL> <MOUNTPATH>
#
HDIR=${2}
mkdir -p -m 0777 ${HDIR} || true

function shut_down() {
    echo "caught signal, calling cleanup"
    cleanup ${1} ${2}
    exit
}

trap "shut_down" SIGKILL SIGTERM SIGHUP SIGINT EXIT

mount -t glusterfs -o log-file=/dev/stdout ${1} ${2} 
sleep infinity
echo "gluster client exiting, calling cleanup"
cleanup ${1} ${2}
